<style>
.card_container{
 padding-top: 2em;
 padding-bottom: 3em;
 width: 100%;
 height: 100%;
}

.card_row {
 width: 100%;
 margin: auto;
 display: inline-block;
 align-items: center;
 justify-content: space-between;
}

.card_col {
 display: inline-block;
 width: 33%;
 overflow: hidden;
}

.card_content {
 width: 100%;
 height: 350px;
 margin: auto;
 perspective: 1000px;
 cursor: pointer;
}

.card_inner {
 position: relative;
 width: 100%;
 height: 100%;
 text-align: center;
 border-radius: 10px;
 transition: transform 1s;
 transform-style: preserve-3d;
}

.card_front, .card_back {
 position: absolute;
 width: 100%;
 height: 100%;
 backface-visibility: hidden;
 border-radius: 10px;
}
  .card_front {
   background-position: center;
   background-size: cover;
 }
 
 .card_content span {
   display: inline-block;
   width: 60%;
   padding: 14px 5px;
   margin-top: 160px;
   border-radius: 4px;
   color: #333;
   transition: transform 1s;
 }
 
 .card_back {
   background-color: #fff;
   transform: rotateX(180deg);
 }
 
 .card_back_innner {
   border-radius: 10px;
   height: 100%;
 }
 
 .card_content:hover .card_inner {
   transform: rotateX(-180deg);
 }
 
 .card_content:hover span {
   transform: rotateY(140deg);
 }
 
 .card_bk_title {
   display: inline-block;
   color: #fff;
   padding-bottom: 10px;
   border-bottom: 1px solid #fff;
   margin-top: 80px;
 }
 
 .card_bk_txt {
   width: 80%;
   margin: 0 auto;
   font-size: 0.8em;
 }
 
 .card_bk_size {
   width: 35%;
   margin: 0.8em auto;
   border-radius: 20px;
 }
  .card_bk_size:hover {
   opacity: .8;
 }
 
@media screen and (min-width: 481px) and (max-width: 768px) {
.card_col {
   width: 49%;
 }
}
 
@media screen and (max-width: 480px) {
 .card_col {
   width: 100%;
 }
}

</style>

<div class="card_container">
 <h1 class="text-center">{{ section.settings.card-title | escape }}</h1>
 <div class="card_row">
   {% for block in section.blocks %}
     <div class="card_col">
       <div class="card_content">
         <div class="card_inner">
           <div class="card_front" style="background-image: linear-gradient(rgba(0,0,0,0.5),rgba(0,0,0,0.5)), url({{ block.settings.flip_image | img_url : 'master' }}) ;">
             <span style="background-color: {{ block.settings.front_bg_color }}; color: {{ block.settings.front_txt_color }};">{{ block.settings.front_txt | escape }}</span>
           </div>
           <div class="card_back">
             <div class="card_back_innner" style="background-color: {{ block.settings.back_bg_color }};">
               <p class="card_bk_title" style="color: {{ block.settings.back_title_color }};">{{ block.settings.back_title | escape }}</p>
               <p class="card_bk_txt" style="color: {{ block.settings.back_txt_color }};">{{ block.settings.back_txt | truncate: 80 }}</p>
               <div class="card_bk_size" style="background-color: {{ block.settings.back_btn_color }};">
                 <a class="card_bk_btn" style="color: {{ block.settings.back_btnTxt_color }};" href="{{ block.settings.back_link }}" role="button">{{ block.settings.back_txt_btn }}</a>
               </div>
             </div>
           </div>
         </div>
       </div>
     </div>
   {% endfor %}
  
 </div>


   
</div>
{% schema %}
{
  "name": "フリップ",
  "max_blocks": 30,
 "settings": [
    {
     "type": "text",
     "id": "card-title",
     "default": "Card Flip",
     "label": "タイトル名"
     }
  
  ],
  "blocks": [
      {
        "type": "select",
        "name": "追加ボタン",
        "settings": [
          {
            "type": "image_picker",
            "id": "flip_image",
            "label": "画像"
          },
  		   {
            "type": "text",
            "id": "front_txt",
            "label": "フロントテキスト",
            "default": "テキスト"
          }, 
		   {
            "type": "color",
            "id": "front_bg_color",
            "label": "テキスト背景色(フロント)",
            "default": "#fff"
          },
		   {
            "type": "color",
            "id": "front_txt_color",
            "label": "テキスト色(フロント)",
            "default": "#000"
          },
          {
            "type": "text",
            "id": "back_title",
            "label": "セカンドタイトル",
            "default": "タイトル"
          },
    	   {
            "type": "html",
            "id": "back_txt",
            "label": "説明文",
              "default": "ここに説明文を挿入"
          },
		   {
            "type": "color",
            "id": "back_bg_color",
            "label": "背景色(セカンド)",
            "default": "#1c1f54"
          },
	       {
            "type": "color",
            "id": "back_title_color",
            "label": "タイトルカラー(セカンド)",
            "default": "#fff"
          },
		   {
            "type": "color",
            "id": "back_txt_color",
            "label": "説明文カラー(セカンド)",
            "default": "#fff"
          },	   
		   {
             "type": "text",
             "id": "back_txt_btn",
             "label": "リンクテキスト(セカンド)",
             "default": "More"
          },
		   {
             "id": "back_link",
             "type": "url",
             "label": "リンク先"
          },
		   {
            "type": "color",
            "id": "back_btn_color",
            "label": "ボタンカラー(セカンド)",
            "default": "#fff"
          },
		   {
            "type": "color",
            "id": "back_btnTxt_color",
            "label": "ボタンテキストカラー(セカンド)",
            "default": "#000"
          }
           ]
      }
    ],
  "presets": [
       {
       "name": "フリップ",
       "category": "カスタム"
       }
    ]
}
{% endschema %}